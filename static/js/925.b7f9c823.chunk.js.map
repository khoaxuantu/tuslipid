{"version":3,"file":"static/js/925.b7f9c823.chunk.js","mappings":"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","sources":["components/blogs/blogs.tsx","components/blogs/contents.tsx","components/blogs/header.tsx","components/blogs/singlepage.tsx","markdown|lazy|/^/.//.*$/|groupOptions: {}|namespace object"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Card from \"../../lib/factory/cardBase\";\nimport { blogInfoDict } from \"../../lib/general_info\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport rehypeHighlight from \"rehype-highlight/lib\";\nimport rehypeRaw from \"rehype-raw\";\nimport remarkMath from \"remark-math\";\nimport rehypeKatex from \"rehype-katex\";\nimport \"../../css/markdown.css\";\n\nexport function BlogsList(props: {blogInfoList: { dictKey: string; date: string; }[]}) {\n    /**\n     * Implement infinite scrolling for blogs\n     * - blogsNum: The number of blogs for each fetching\n     */\n    const blogsNum: number = 4;\n    const [startId, setStartId] = useState(0);\n    const [hasMore, setHasMore] = useState(true);\n    const [blogs, setBlogs] : [{ dictKey: string; date: string; }[], any] = useState([]);\n    // console.log(\"ðŸš€ ~ file: blogs.tsx:21 ~ BlogsList ~ blogs:\", blogs)\n\n    useEffect(() => {\n        let canFetch = true;\n        function fetchBlogs(startId: number) {\n            const newBlogs = [];\n            const nextStartId = startId + blogsNum;\n            if (nextStartId >= props.blogInfoList.length) setHasMore(!hasMore);\n\n            for (let i = startId; i < nextStartId && i < props.blogInfoList.length; i++) {\n                newBlogs.push(props.blogInfoList[i]);\n            }\n            setBlogs([...blogs, ...newBlogs]);\n        }\n\n        if (canFetch) fetchBlogs(startId);\n\n        return () => {\n            canFetch = !canFetch;\n            // console.log(\"ðŸš€ ~ file: blogs.tsx:41 ~ return ~ canFetch:\", canFetch)\n        }\n    }, [startId]);\n\n    useEffect(() => {\n        function onScroll() {\n            const scrollTop = document.documentElement.scrollTop;\n            const scrollHeight = document.documentElement.scrollHeight;\n            const clientHeight = document.documentElement.clientHeight;\n\n            if (scrollTop + clientHeight >= scrollHeight && hasMore) {\n                setStartId(startId => startId + blogsNum);\n            }\n        }\n\n        window.addEventListener('scroll', onScroll)\n        return () => window.removeEventListener('scroll', onScroll)\n    }, [blogs]);\n\n    return (\n        <>\n            {blogs.map((blog, index) => {\n                return <Card key={index} {...blogInfoDict[blog.dictKey]} />;\n            })}\n        </>\n    );\n}\n\nexport function SingleBlog(props: {id: string}) {\n    const blogInfo = blogInfoDict[props.id];\n    const [text, setText] = useState('');\n    const mdWrapper = document.getElementsByClassName(\"single-blog-wrapper\")[0];\n\n    useEffect(() => {\n        const controller = new AbortController();\n        const signal = controller.signal;\n\n        import(`../../markdown/${blogInfo.file}`)\n            .then(res => {\n                fetch(res.default, {signal})\n                .then(res => res.text())\n                .then(txt => setText(txt))\n                .catch(err => console.log(err));\n            })\n            .catch(err => console.log(err));\n\n        return () => {\n            controller.abort();\n        }\n    }, [])\n\n    /**\n     * Due to the delay of ReactMarkdown's render, an useEffect is needed\n     * to detect the change of the blogWrapper\n     *\n     * If the blogWrapper's childNodes is not empty, set its height back to auto\n     * (initially the height is constant pixels)\n     */\n    useEffect(() => {\n        const blogWrapper = document.getElementsByClassName(\"single-blog-wrapper\")[0] as HTMLElement;\n        if (blogWrapper.childNodes.length !== 0) blogWrapper.style.height = \"auto\";\n    }, [mdWrapper]);\n\n    return (\n        <>\n            <ReactMarkdown\n                children={text}\n                remarkPlugins={[remarkGfm, remarkMath]}\n                rehypePlugins={[rehypeHighlight, rehypeRaw, rehypeKatex]}\n                components={{\n                    h1: HeadingRenderer,\n                    h2: HeadingRenderer,\n                    h3: HeadingRenderer,\n                    h4: HeadingRenderer,\n                    h5: HeadingRenderer,\n                    h6: HeadingRenderer\n                }}\n            />\n        </>\n    );\n}\n\nfunction HeadingRenderer(props: any) {\n    var children = React.Children.toArray(props.children)\n    var text = children.reduce(flatten, '')\n    var slug = text.toLowerCase().replace(/\\W/g, '-')\n    return React.createElement('h' + props.level, {id: slug}, props.children)\n}\n\nfunction flatten(text: any, child: any): any {\n    return typeof child === 'string'\n        ? text + child\n        : React.Children.toArray(child.props.children).reduce(flatten, text)\n}\n","import { blogInfoList } from \"../../lib/general_info\";\nimport { BlogsList, SingleBlog } from \"./blogs\";\n\nexport function BlogsContent() {\n    /* blogInfoList needs sorting first */\n    blogInfoList.sort((a, b) => {\n        const dateA = new Date(a.date);\n        const dateB = new Date(b.date);\n        if (dateA < dateB) return 1;\n        else if (dateA > dateB) return -1;\n        else return 0;\n    });\n\n    return (\n        <div className=\"blog-wrapper\">\n            <BlogsList blogInfoList={blogInfoList} />\n        </div>\n    );\n}\n\nexport function SingleBlogContent(props: {id: string}) {\n    return (\n        <article className=\"single-blog-wrapper transition-blog\">\n            <SingleBlog id={props.id} />\n        </article>\n    );\n}","import { blogInfoDict } from \"../../lib/general_info\";\n\nexport function BlogsPageHeaderGrp() {\n    return (\n      <div className='header-grp'>\n        <div className='header-txt-blog'>\n          <b>Tus's Blogs</b>\n        </div>\n        <div className='body-txt-blog mt-2'>\n          Some notes, some ideas, some opinions\n        </div>\n        <hr />\n      </div>\n    );\n}\n\nexport function SingleBlogPageHeaderGrp(props: {id: string}) {\n    return (\n      <div className='header-grp'>\n        <div className='header-txt-blog'>\n          <b>{blogInfoDict[props.id].title}</b>\n        </div>\n      </div>\n    );\n}\n","import { useParams, Navigate } from \"react-router-dom\";\nimport { SingleBlogPageHeaderGrp } from \"./header\";\nimport { SingleBlogContent } from \"./contents\";\nimport { blogInfoDict } from \"../../lib/general_info\";\n\nexport default function SingleBlogPage() {\n    const { blogId } = useParams();\n    let validId = blogInfoDict.hasOwnProperty(blogId as string);\n    if (!validId) {\n        return <Navigate to=\"/404\" replace />;\n    }\n\n    return (\n        <>\n            <SingleBlogPageHeaderGrp id={blogId as string} />\n            <hr></hr>\n            <SingleBlogContent id={blogId as string} />\n        </>\n    );\n}","var map = {\n\t\"./great_ytb_channels_1.md\": [\n\t\t3258,\n\t\t258\n\t],\n\t\"./great_ytb_channels_2.md\": [\n\t\t7699,\n\t\t699\n\t],\n\t\"./markdown_starter.md\": [\n\t\t2771,\n\t\t771\n\t],\n\t\"./uncommon_javascript_notes.md\": [\n\t\t9769,\n\t\t769\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 1 | 16);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 1273;\nmodule.exports = webpackAsyncContext;"],"names":["BlogsList","props","_useState","useState","_useState2","_slicedToArray","startId","setStartId","_useState3","_useState4","hasMore","setHasMore","_useState5","_useState6","blogs","setBlogs","useEffect","canFetch","newBlogs","nextStartId","blogInfoList","length","i","push","concat","_toConsumableArray","fetchBlogs","onScroll","scrollTop","document","documentElement","scrollHeight","clientHeight","window","addEventListener","removeEventListener","_jsx","_Fragment","children","map","blog","index","Card","_objectSpread","blogInfoDict","dictKey","SingleBlog","blogInfo","id","_useState7","_useState8","text","setText","mdWrapper","getElementsByClassName","controller","AbortController","signal","file","then","res","fetch","default","txt","catch","err","console","log","abort","blogWrapper","childNodes","style","height","ReactMarkdown","remarkPlugins","remarkGfm","remarkMath","rehypePlugins","rehypeHighlight","rehypeRaw","rehypeKatex","components","h1","HeadingRenderer","h2","h3","h4","h5","h6","slug","React","reduce","flatten","toLowerCase","replace","level","child","BlogsContent","a","b","dateA","Date","date","dateB","className","SingleBlogContent","BlogsPageHeaderGrp","_jsxs","SingleBlogPageHeaderGrp","title","SingleBlogPage","blogId","useParams","Navigate","to","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","e","Error","code","ids","t","keys","Object","module","exports"],"sourceRoot":""}