{"version":3,"file":"static/js/640.afaa9027.chunk.js","mappings":"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","sources":["components/guestbook/header.tsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@react-oauth/google/dist/index.esm.js","components/guestbook/actions.tsx","components/guestbook/form.tsx","components/guestbook/list.tsx","components/guestbook/body.tsx","components/guestbook/page.tsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"],"sourcesContent":["export default function GuestbookHeader() {\n    return (\n      <div className='header-grp'>\n        <div className='header-txt'>\n          <b>Guestbook</b>\n        </div>\n        <div className='body-txt mt-2'>\n          This idea is inspired by {\" \"}\n          <a href=\"https://leerob.io/\" target='_blank' rel='noreferrer'>Lee Robinson's portfolio</a>\n          {\" \"}:{\")\"}\n        </div>\n        <hr />\n      </div>\n    );\n}\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import React, { useState, useRef, useEffect, createContext, useMemo, useContext, useCallback } from 'react';\n\nfunction useLoadGsiScript(options = {}) {\r\n    const { nonce, onScriptLoadSuccess, onScriptLoadError } = options;\r\n    const [scriptLoadedSuccessfully, setScriptLoadedSuccessfully] = useState(false);\r\n    const onScriptLoadSuccessRef = useRef(onScriptLoadSuccess);\r\n    onScriptLoadSuccessRef.current = onScriptLoadSuccess;\r\n    const onScriptLoadErrorRef = useRef(onScriptLoadError);\r\n    onScriptLoadErrorRef.current = onScriptLoadError;\r\n    useEffect(() => {\r\n        const scriptTag = document.createElement('script');\r\n        scriptTag.src = 'https://accounts.google.com/gsi/client';\r\n        scriptTag.async = true;\r\n        scriptTag.defer = true;\r\n        scriptTag.nonce = nonce;\r\n        scriptTag.onload = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(true);\r\n            (_a = onScriptLoadSuccessRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadSuccessRef);\r\n        };\r\n        scriptTag.onerror = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(false);\r\n            (_a = onScriptLoadErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadErrorRef);\r\n        };\r\n        document.body.appendChild(scriptTag);\r\n        return () => {\r\n            document.body.removeChild(scriptTag);\r\n        };\r\n    }, [nonce]);\r\n    return scriptLoadedSuccessfully;\r\n}\n\nconst GoogleOAuthContext = createContext(null);\r\nfunction GoogleOAuthProvider({ clientId, nonce, onScriptLoadSuccess, onScriptLoadError, children, }) {\r\n    const scriptLoadedSuccessfully = useLoadGsiScript({\r\n        nonce,\r\n        onScriptLoadSuccess,\r\n        onScriptLoadError,\r\n    });\r\n    const contextValue = useMemo(() => ({\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n    }), [clientId, scriptLoadedSuccessfully]);\r\n    return (React.createElement(GoogleOAuthContext.Provider, { value: contextValue }, children));\r\n}\r\nfunction useGoogleOAuth() {\r\n    const context = useContext(GoogleOAuthContext);\r\n    if (!context) {\r\n        throw new Error('Google OAuth components must be used within GoogleOAuthProvider');\r\n    }\r\n    return context;\r\n}\n\nfunction extractClientId(credentialResponse) {\r\n    var _a;\r\n    const clientId = (_a = credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.clientId) !== null && _a !== void 0 ? _a : credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.client_id;\r\n    return clientId;\r\n}\n\nconst containerHeightMap = { large: 40, medium: 32, small: 20 };\r\nfunction GoogleLogin({ onSuccess, onError, useOneTap, promptMomentNotification, type = 'standard', theme = 'outline', size = 'large', text, shape, logo_alignment, width, locale, click_listener, containerProps, ...props }) {\r\n    const btnContainerRef = useRef(null);\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            ...props,\r\n        });\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.renderButton(btnContainerRef.current, {\r\n            type,\r\n            theme,\r\n            size,\r\n            text,\r\n            shape,\r\n            logo_alignment,\r\n            width,\r\n            locale,\r\n            click_listener,\r\n        });\r\n        if (useOneTap)\r\n            (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            if (useOneTap)\r\n                (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        useOneTap,\r\n        type,\r\n        theme,\r\n        size,\r\n        text,\r\n        shape,\r\n        logo_alignment,\r\n        width,\r\n        locale,\r\n    ]);\r\n    return (React.createElement(\"div\", { ...containerProps, ref: btnContainerRef, style: { height: containerHeightMap[size], ...containerProps === null || containerProps === void 0 ? void 0 : containerProps.style } }));\r\n}\n\nfunction googleLogout() {\r\n    var _a, _b, _c;\r\n    (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.disableAutoSelect();\r\n}\n\n/* eslint-disable import/export */\r\nfunction useGoogleLogin({ flow = 'implicit', scope = '', onSuccess, onError, onNonOAuthError, overrideScope, state, ...props }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const clientRef = useRef();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const onNonOAuthErrorRef = useRef(onNonOAuthError);\r\n    onNonOAuthErrorRef.current = onNonOAuthError;\r\n    useEffect(() => {\r\n        var _a;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        const clientMethod = flow === 'implicit' ? 'initTokenClient' : 'initCodeClient';\r\n        const client = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts.oauth2[clientMethod]({\r\n            client_id: clientId,\r\n            scope: overrideScope ? scope : `openid profile email ${scope}`,\r\n            callback: (response) => {\r\n                var _a, _b;\r\n                if (response.error)\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef, response);\r\n                (_b = onSuccessRef.current) === null || _b === void 0 ? void 0 : _b.call(onSuccessRef, response);\r\n            },\r\n            error_callback: (nonOAuthError) => {\r\n                var _a;\r\n                (_a = onNonOAuthErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onNonOAuthErrorRef, nonOAuthError);\r\n            },\r\n            state,\r\n            ...props,\r\n        });\r\n        clientRef.current = client;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [clientId, scriptLoadedSuccessfully, flow, scope, state]);\r\n    const loginImplicitFlow = useCallback((overrideConfig) => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestAccessToken(overrideConfig); }, []);\r\n    const loginAuthCodeFlow = useCallback(() => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestCode(); }, []);\r\n    return flow === 'implicit' ? loginImplicitFlow : loginAuthCodeFlow;\r\n}\n\nfunction useGoogleOneTapLogin({ onSuccess, onError, promptMomentNotification, cancel_on_tap_outside, prompt_parent_id, state_cookie_domain, hosted_domain, disabled, }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        if (disabled) {\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n            return;\r\n        }\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            hosted_domain,\r\n            cancel_on_tap_outside,\r\n            prompt_parent_id,\r\n            state_cookie_domain,\r\n        });\r\n        (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        cancel_on_tap_outside,\r\n        prompt_parent_id,\r\n        state_cookie_domain,\r\n        hosted_domain,\r\n        disabled,\r\n    ]);\r\n}\n\n/**\r\n * Checks if the user granted all the specified scope or scopes\r\n * @returns True if all the scopes are granted\r\n */\r\nfunction hasGrantedAllScopesGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAllScopes(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\n/**\r\n * Checks if the user granted any of the specified scope or scopes.\r\n * @returns True if any of the scopes are granted\r\n */\r\nfunction hasGrantedAnyScopeGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAnyScope(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\nexport { GoogleLogin, GoogleOAuthProvider, googleLogout, hasGrantedAllScopesGoogle, hasGrantedAnyScopeGoogle, useGoogleLogin, useGoogleOneTapLogin };\n","import { LoginButton } from \"../../lib/factory/buttonBase\";\nimport { useNavigate } from \"react-router-dom\";\nimport { oauthInfoList } from \"../../lib/general_info\";\nimport { useGoogleLogin } from \"@react-oauth/google\";\n\nconst { \n    REACT_APP_BACKEND_DOMAIN,\n    REACT_APP_GITHUB_CLIENT_ID } = process.env;\n\nexport function SignIn() {\n    \n    /**\n     * Login with Github will redirect user to an authorization callback URL\n     * so I redirect to a new route \"/oauth\" instead of back to this route \"/guestbook\"\n     * \n     * At route \"/oauth\", the received authorization code will be fetched to\n     * the backend api to process authentication. After backend responses \n     * a access_token successfully, users will be redirected back to \"/guestbook\"\n     */\n    function loginWithGithub() {\n        window.location.assign(\"https://github.com/login/oauth/authorize?client_id=\" + REACT_APP_GITHUB_CLIENT_ID);\n    }\n\n    /**\n     * Login with Google uses @react-oauth/google library, which authorizes\n     * in popup mode. The code is returned to in-browser's app callback handler,\n     * without users needing to leave the website\n     * \n     * https://developers.google.com/identity/oauth2/web/guides/how-user-authz-works#when_using_the_auth_code_flow\n     */\n    let navigate = useNavigate();\n    const loginWithGoogle = useGoogleLogin({\n        onSuccess: async ({code}) => {\n            if (localStorage.getItem(\"accessToken\") === null) {\n                await fetch(`${REACT_APP_BACKEND_DOMAIN}/oauth/google/access_token?code=` + code, {\n                    method: \"GET\"\n                })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.access_token) {\n                        localStorage.setItem(\"accessToken\", data.access_token);\n                        localStorage.setItem(\"third-party\", \"google\");\n                        return navigate(\"/guestbook\");\n                    }\n                });\n            }\n        },\n        flow: \"auth-code\",\n    });\n\n    const onClickHandlers: any[] = [\n        loginWithGithub,\n        () => loginWithGoogle()\n    ];\n\n    return (\n        <>\n            {\n                oauthInfoList.map((oauth, index) => {\n                    return (\n                        <div key={oauth.name} className=\"col-6 btn-oauth-box\">\n                            <LoginButton \n                                onClick={onClickHandlers[index]}\n                                {...oauth} />\n                        </div>\n                    );\n                })\n            }\n        </>\n    );\n}\n\nexport function SignOut() {\n    let navigate = useNavigate();\n\n    function logOut() {\n        localStorage.removeItem(\"third-party\");\n        localStorage.removeItem(\"data\");\n        return navigate(\"/guestbook\");\n    }\n\n    return (\n        <button className=\"btn btn-rect\" onClick={logOut}>\n            Sign out\n        </button>\n    );\n}","import { useEffect, useState } from \"react\";\n\nconst { REACT_APP_BACKEND_DOMAIN } = process.env;\n\nexport interface IMessage {\n    name: string | null,\n    message: string\n}\n\nfunction capitalFirstLetter(s: string): string {  \n    return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nfunction GuestbookForm() {\n    const [User, setUser] = useState(\"\");\n\n    // Take username for every page restart\n    let username: string | null = null;\n    if (localStorage.getItem(\"data\") !== null) {\n        username = JSON.parse(localStorage.getItem(\"data\") as any).name;\n    }\n\n    async function fetchUser(thirdParty: string) {\n        console.log(`get ${thirdParty} user`);\n        const fetchAPI = await fetch(`${REACT_APP_BACKEND_DOMAIN}/oauth/${thirdParty}/user`, {\n            method: \"GET\",\n            headers: {\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\")\n            }\n        });\n        const response = await fetchAPI.json();\n        return response;\n    }\n\n    const getGithubUser = async () => {\n        const response = await fetchUser(\"github\");\n        localStorage.removeItem(\"accessToken\");\n        localStorage.setItem(\"data\", JSON.stringify({\n            name: response.login\n        }));\n        setUser(response.login);\n    }\n\n    const getGoogleUser = async () => {\n        const response = await fetchUser(\"google\");\n        localStorage.removeItem(\"accessToken\");\n        localStorage.setItem(\"data\", JSON.stringify({\n            name: response.name\n        }));\n        setUser(response.name);\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem(\"data\") === null) {\n            if (localStorage.getItem(\"third-party\") === \"github\") {\n                getGithubUser();\n            }\n            else if (localStorage.getItem(\"third-party\") === \"google\") {\n                getGoogleUser();\n            }\n        }\n    }, []);\n    \n    async function submitHandler(e: any) {\n        // Prevent page from reloading until the POST request finishes\n        e.preventDefault();\n\n        const data = JSON.parse(localStorage.getItem(\"data\") as any);\n        const input = document.getElementById(\"your-message\") as HTMLFormElement;\n        if (input.value.length === 0) {\n            alert(\"Your message cannot be empty\");\n            return;\n        }\n        if (input.value.length > 512) {\n            alert(\"Too long! Won't read -_-\");\n            return;\n        }\n        \n        const newMessage: IMessage = {\n            name: data.name,\n            message: input.value\n        }\n        \n        await fetch(`${REACT_APP_BACKEND_DOMAIN}/guestbook/add/`, {\n                method: \"POST\",\n                headers: {\n                        \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(newMessage),\n                mode: \"cors\"\n        })\n        // .then(res => res.json())\n        // .then(data => console.log(data));\n\n        alert(\"Sign successfully :3\")\n        window.location.reload();\n    }\n\n    return (\n        <>\n            <p className=\"mb-2\">\n                Sign in as {\" \"} \n                <b>{username !== null ? username : User}</b> {\" \"}\n                via <b>{capitalFirstLetter(localStorage.getItem(\"third-party\") as string)}</b>\n            </p>\n            <form className=\"mb-3 guestbook-form row\" onSubmit={submitHandler}>\n                <input \n                    className=\"col-10 ps-3 pt-3 pb-3 pe-5\" \n                    placeholder=\"Your message...\"\n                    autoComplete=\"off\"\n                    type=\"text\" name=\"your message\" aria-label=\"your message\" id=\"your-message\" />\n                <button className=\"col-2 p-2\" type=\"submit\"><b>Sign</b></button>\n            </form>\n        </>\n    );\n}\n\nexport default GuestbookForm;","import { useEffect, useState } from \"react\";\n\nconst DOMAIN = process.env.REACT_APP_BACKEND_DOMAIN;\n\nfunction GuestbookList({maxGuests} : {maxGuests: number}) {\n    /**\n     * Implement infinite scrolling for guestbook\n     * - messageNums The number of messages for each\n     */\n    const messageNums = 40;\n    const [startId, setStartId] = useState(0);\n    const [hasMore, setHasMore] = useState(true);\n    const [msgs, setMsgs] : [any, any] = useState([]);\n\n    useEffect(() => {\n        const controller = new AbortController();\n        const signal = controller.signal;\n\n        const fetchMsgs = async (startId: number) => {\n            const nextStartId = startId + messageNums;\n            if (nextStartId >= maxGuests) setHasMore(!hasMore);\n\n            try {\n                const fetchAPI = await fetch(`${DOMAIN}/guestbook/list/${startId}`, { signal });\n                const data = await fetchAPI.json();\n                setMsgs([...msgs, ...data]);\n            } catch (error) {\n                console.log(error)\n            }\n        }\n\n        if (hasMore) fetchMsgs(startId);\n\n        return () => {\n            controller.abort();\n        }\n    }, [startId]);\n\n    useEffect(() => {\n        function onScroll() {\n            const scrollTop = document.documentElement.scrollTop;\n            const scrollHeight = document.documentElement.scrollHeight;\n            const clientHeight = document.documentElement.clientHeight;\n\n            if (scrollTop + clientHeight >= scrollHeight && hasMore) {\n                setStartId(startId => startId + messageNums);\n            }\n        }\n\n        window.addEventListener('scroll', onScroll)\n        return () => window.removeEventListener('scroll', onScroll)\n    }, [msgs]);\n\n    const guestbook = document.getElementsByClassName(\"guestbook-txt\")[0] as HTMLElement;\n    const wrapper = document.getElementsByClassName(\"guestbook-wrapper\")[0] as HTMLElement;\n    useEffect(() => {\n      if (wrapper.childNodes.length !== 0) wrapper.style.height = \"auto\";\n    }, [guestbook])\n\n    return (\n        <>\n            {msgs.map((msg: any, index: number) => {\n                return(\n                    <p key={index} className=\"mb-3\">\n                        <b>{msg.guest.name}:</b>{\" \"}\n                        {msg.guest.message}\n                    </p>\n                );\n            })}\n        </>\n    );\n}\n\nexport default GuestbookList;\n","import { useEffect, useState } from \"react\";\nimport * as Action from \"./actions\";\nimport GuestbookForm from \"./form\";\nimport GuestbookList from \"./list\";\nimport { GoogleOAuthProvider } from \"@react-oauth/google\";\n\nconst GG_CLIENT_ID: string = process.env.REACT_APP_GOOGLE_CLIENT_ID as string;\nconst DOMAIN = process.env.REACT_APP_BACKEND_DOMAIN;\n\nfunction GuestbookBody() {\n  const [maxGuests, setMaxGuests] = useState(0);\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n\n    const fetchMaxGuests = async () => {\n      try {\n        const fetchAPI = await fetch(`${DOMAIN}/guestbook/totalRecords`, { signal });\n        const curMaxGuests = await fetchAPI.json();\n        setMaxGuests(curMaxGuests[0][\"count\"]);\n      } catch (error) {\n        console.log(error)\n      }\n    };\n\n    fetchMaxGuests();\n\n    return () => {\n      controller.abort();\n    }\n  }, []);\n\n  return (\n    <div className=\"guestbook-wrapper mb-5\">\n      <GoogleOAuthProvider clientId={GG_CLIENT_ID}>\n        <div className=\"btn-grp oauth-grp pb-4\">\n          {localStorage.getItem(\"third-party\") === null ? (\n            <Action.SignIn />\n          ) : (\n            <>\n              <GuestbookForm />\n              <Action.SignOut />\n            </>\n          )}\n        </div>\n      </GoogleOAuthProvider>\n      <hr />\n      <article className=\"mt-5 guestbook-txt\">\n        {maxGuests > 0 ? (\n          <GuestbookList maxGuests={maxGuests} />\n        ) : (\n          <p>Waiting for the first message...</p>\n        )}\n      </article>\n    </div>\n  );\n}\n\nexport default GuestbookBody;\n","import GuestbookHeader from \"./header\";\nimport Copyright from \"../copyright\";\nimport GuestbookBody from \"./body\";\nimport { getMetadataURL } from \"../../lib/utils/Location\";\nimport { useLocation } from \"react-router-dom\";\nimport { Metadata } from \"../seo/Metadata\";\nimport CustomHead from \"../seo\";\n\nconst guestbookDescription = \"Welcome to my guestbook ~ Leave a message to me here\";\n\nexport default function GuestbookPage() {\n  const url = getMetadataURL(useLocation());\n\n  const metadata: Metadata = {\n    title: \"Guestbook\",\n    description: guestbookDescription,\n    canonicalURL: url,\n    og: {\n      url: url,\n      description: guestbookDescription,\n    },\n    twitter: {\n      url: url,\n      description: guestbookDescription,\n    },\n  };\n\n  return (\n    <div className=\"container page-wrapper transition-page\">\n      <CustomHead metadata={metadata} />\n      <GuestbookHeader />\n      <GuestbookBody />\n      <Copyright copyright_class=\"page-copyright pb-3\" />\n    </div>\n  );\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}"],"names":["GuestbookHeader","_jsxs","className","children","_jsx","href","target","rel","source","excluded","key","i","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","GoogleOAuthContext","createContext","GoogleOAuthProvider","_ref","clientId","nonce","onScriptLoadSuccess","onScriptLoadError","scriptLoadedSuccessfully","options","arguments","undefined","_useState","useState","_useState2","_slicedToArray","setScriptLoadedSuccessfully","onScriptLoadSuccessRef","useRef","current","onScriptLoadErrorRef","useEffect","scriptTag","document","createElement","src","async","defer","onload","_a","onerror","body","appendChild","removeChild","useLoadGsiScript","contextValue","useMemo","React","Provider","value","useGoogleOAuth","context","useContext","Error","REACT_APP_BACKEND_DOMAIN","process","REACT_APP_GITHUB_CLIENT_ID","SignIn","navigate","useNavigate","loginWithGoogle","_ref3","_ref3$flow","flow","_ref3$scope","scope","onSuccess","onError","onNonOAuthError","overrideScope","state","props","_objectWithoutProperties","_excluded2","_useGoogleOAuth2","clientRef","onSuccessRef","onErrorRef","onNonOAuthErrorRef","clientMethod","client","window","google","accounts","oauth2","_objectSpread","client_id","concat","callback","response","_b","error","error_callback","nonOAuthError","loginImplicitFlow","useCallback","overrideConfig","requestAccessToken","loginAuthCodeFlow","requestCode","useGoogleLogin","_onSuccess","_asyncToGenerator","_regeneratorRuntime","mark","_callee","code","wrap","_context","prev","next","localStorage","getItem","fetch","method","then","json","data","access_token","setItem","stop","_x","apply","onClickHandlers","location","assign","_Fragment","oauthInfoList","oauth","index","LoginButton","onClick","name","SignOut","removeItem","User","setUser","username","fetchUser","_fetchUser","_callee3","thirdParty","fetchAPI","_context3","console","log","headers","sent","abrupt","JSON","parse","s","getGithubUser","stringify","login","getGoogleUser","_ref2","_callee2","_context2","_submitHandler","_callee4","e","input","newMessage","_context4","preventDefault","getElementById","alert","message","mode","reload","charAt","toUpperCase","slice","onSubmit","_x2","placeholder","autoComplete","type","id","maxGuests","startId","setStartId","_useState3","_useState4","hasMore","setHasMore","_useState5","_useState6","msgs","setMsgs","controller","AbortController","signal","fetchMsgs","_toConsumableArray","t0","abort","onScroll","scrollTop","documentElement","scrollHeight","clientHeight","addEventListener","removeEventListener","guestbook","getElementsByClassName","wrapper","childNodes","style","height","map","msg","guest","setMaxGuests","fetchMaxGuests","curMaxGuests","Action","GuestbookForm","GuestbookList","guestbookDescription","GuestbookPage","url","getMetadataURL","useLocation","metadata","title","description","canonicalURL","og","twitter","CustomHead","GuestbookBody","Copyright","copyright_class","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","fn","self","this","args","err","exports","Op","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","_invoke","AsyncIterator","PromiseImpl","invoke","record","result","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","methodName","TypeError","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","setPrototypeOf","__proto__","awrap","iter","val","object","reverse","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield"],"sourceRoot":""}