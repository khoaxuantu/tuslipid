{"version":3,"file":"static/js/436.8382695c.chunk.js","mappings":"gKAEA,MAAMA,EAASC,6BAER,SAASC,IACZ,MAAMC,EAAcC,OAAOC,SAASC,OAE9BC,EADY,IAAIC,gBAAgBL,GACVM,IAAI,QAEhC,IAAIC,GAAWC,EAAAA,EAAAA,MAEf,GAAIJ,GAAsD,OAAxCK,aAAaC,QAAQ,eAA0B,EACtCC,uBACbC,MAAM,GAAAC,OAAGhB,EAAM,oCAAqCO,EAAW,CACjEU,OAAQ,QAEXC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACF,GAAIA,EAAKC,aAGL,OAFAV,aAAaW,QAAQ,cAAeF,EAAKC,cACzCV,aAAaW,QAAQ,cAAe,UAC7Bb,EAAS,aACpB,GAER,EAEAc,EACJ,CAEA,OAAO,IACX,CAEA,S","sources":["components/oauth.tsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\n\nconst DOMAIN = process.env.REACT_APP_BACKEND_DOMAIN; \n\nexport function GithubOauth() {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const codeParam = urlParams.get(\"code\");\n\n    let navigate = useNavigate();\n\n    if (codeParam && (localStorage.getItem(\"accessToken\") === null)) {\n        const getAccessToken = async function () {\n            await fetch(`${DOMAIN}/oauth/github/access_token?code=` + codeParam, {\n                method: \"GET\"\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.access_token) {\n                    localStorage.setItem(\"accessToken\", data.access_token);\n                    localStorage.setItem(\"third-party\", \"github\");\n                    return navigate(\"/guestbook\");\n                }\n            });\n        }\n\n        getAccessToken();\n    }\n\n    return null;\n}\n\nexport default GithubOauth;"],"names":["DOMAIN","process","GithubOauth","queryString","window","location","search","codeParam","URLSearchParams","get","navigate","useNavigate","localStorage","getItem","async","fetch","concat","method","then","response","json","data","access_token","setItem","getAccessToken"],"sourceRoot":""}